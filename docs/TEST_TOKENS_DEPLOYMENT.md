# ğŸ“š æµ‹è¯•ä»£å¸éƒ¨ç½²æŒ‡å—

## æ¦‚è¿°

æœ¬æŒ‡å—è¯´æ˜å¦‚ä½•éƒ¨ç½²4ä¸ªæµ‹è¯•ä»£å¸ï¼ˆSTE, STF, STCX, SBFï¼‰å¹¶åˆ›å»ºæµåŠ¨æ€§æ± ã€‚

---

## ğŸ“‹ ä»£å¸è§„æ ¼

| ä»£å¸ | å…¨ç§° | ç¬¦å· | æ€»ä¾›åº”é‡ | æµåŠ¨æ€§åˆ†é… | æµ‹è¯•åœ°å€åˆ†é… |
|------|------|------|----------|-----------|-------------|
| STE | Star Energy | STE | 100äº¿ | 10% | 90% |
| STF | Star Finance | STF | 100äº¿ | 10% | 90% |
| STCX | Star Chain X | STCX | 100äº¿ | 10% | 90% |
| SBF | Star Base Finance | SBF | 100äº¿ | 10% | 90% |

**æ€»ä¾›åº”**: `10,000,000,000 tokens` (100äº¿)
**ç²¾åº¦**: 18 decimals
**ç±»å‹**: å›ºå®šä¾›åº”é‡ ERC20 (æ— å¢å‘)

---

## ğŸ—ï¸ éƒ¨ç½²æ­¥éª¤

### 1ï¸âƒ£ ç¼–è¯‘åˆçº¦

```bash
npm run compile
```

ç¡®ä¿ `SimpleToken.sol` åˆçº¦æˆåŠŸç¼–è¯‘ã€‚

### 2ï¸âƒ£ éƒ¨ç½²æµ‹è¯•ä»£å¸

```bash
npx hardhat run scripts/deploy-test-tokens.ts --network bscTestnet
```

**æ‰§è¡Œæµç¨‹**:
1. éƒ¨ç½² 4 ä¸ª SimpleToken åˆçº¦
2. æ¯ä¸ªä»£å¸é“¸é€  100äº¿ ä¾›åº”é‡ç»™éƒ¨ç½²è€…
3. å¦‚æœæŒ‡å®šäº†æµ‹è¯•åœ°å€(ééƒ¨ç½²è€…),è½¬è´¦90%åˆ°æµ‹è¯•åœ°å€
4. ä¿ç•™10%ç”¨äºæµåŠ¨æ€§æ± 
5. ç”Ÿæˆ `deployed-test-tokens.json` éƒ¨ç½²ä¿¡æ¯æ–‡ä»¶

**è¾“å‡ºç¤ºä¾‹**:
```json
{
  "network": "bscTestnet",
  "deployer": "0x...",
  "testAddress": "0x...",
  "totalSupply": "10000000000000000000000000000",
  "liquidityAmount": "1000000000000000000000000000",
  "tokens": [
    {
      "name": "Star Energy",
      "symbol": "STE",
      "address": "0x..."
    },
    ...
  ]
}
```

### 3ï¸âƒ£ æ·»åŠ æµåŠ¨æ€§å¹¶åˆ›å»ºæ± å­

```bash
npx hardhat run scripts/add-test-liquidity.ts --network bscTestnet
```

**æ‰§è¡Œæµç¨‹**:
1. è¯»å–å·²éƒ¨ç½²çš„ä»£å¸åœ°å€
2. ä¸ºæ¯ä¸¤ä¸ªä»£å¸åˆ›å»ºäº¤æ˜“å¯¹:
   - âœ… ç¨³å®šå¸æ±  (stable = true)
   - âœ… æ³¢åŠ¨æ€§æ±  (stable = false)
3. ä¸ºæ¯ä¸ªæ± å­æ·»åŠ  5äº¿ ä»£å¸æµåŠ¨æ€§
4. ç”Ÿæˆ `deployed-pools.json` æ± å­ä¿¡æ¯æ–‡ä»¶

**åˆ›å»ºçš„äº¤æ˜“å¯¹** (å…±12ä¸ªæ± å­):

| äº¤æ˜“å¯¹ | ç¨³å®šæ±  | æ³¢åŠ¨æ±  |
|--------|--------|--------|
| STE/STF | âœ… | âœ… |
| STE/STCX | âœ… | âœ… |
| STE/SBF | âœ… | âœ… |
| STF/STCX | âœ… | âœ… |
| STF/SBF | âœ… | âœ… |
| STCX/SBF | âœ… | âœ… |

**æ¯ä¸ªæ± å­çš„æµåŠ¨æ€§**:
- Token A: 500,000,000 (5äº¿)
- Token B: 500,000,000 (5äº¿)

### 4ï¸âƒ£ ä¸ºæ± å­åˆ›å»º Gauge (å¯é€‰)

```bash
npx hardhat run scripts/create-gauges-for-pools.ts --network bscTestnet
```

ä¸ºæ¯ä¸ªæ± å­åˆ›å»ºå¯¹åº”çš„ Gaugeï¼Œä½¿å…¶å¯ä»¥:
- æ¥æ”¶ SRT æ’æ”¾
- æ¥æ”¶ç”¨æˆ·æŠ•ç¥¨
- åˆ†é…æµåŠ¨æ€§æŒ–çŸ¿å¥–åŠ±

---

## ğŸ“Š ç¨³å®šæ±  vs æ³¢åŠ¨æ± 

### ğŸŸ¢ ç¨³å®šå¸æ±  (Stable Pool)

**å…¬å¼**: `xÂ³y + yÂ³x = k` (StableSwap æ›²çº¿)

**ç‰¹ç‚¹**:
- âœ… æä½æ»‘ç‚¹ (åœ¨ 1:1 é™„è¿‘)
- âœ… èµ„æœ¬æ•ˆç‡é«˜
- âœ… é€‚åˆä»·æ ¼ç¨³å®šçš„ä»£å¸å¯¹

**é€‚ç”¨åœºæ™¯**:
```
âœ… USDT/USDC  - ç¨³å®šå¸å¯¹
âœ… DAI/USDT   - ç¨³å®šå¸å¯¹
âœ… WBTC/renBTC - é”šå®šèµ„äº§
```

**ä»£ç **:
```solidity
// åˆ›å»ºç¨³å®šæ± 
router.addLiquidity(
  tokenA,
  tokenB,
  true,  // âœ… stable = true
  ...
)
```

### ğŸ”µ æ³¢åŠ¨æ€§æ±  (Volatile Pool)

**å…¬å¼**: `x Ã— y = k` (æ’å®šä¹˜ç§¯)

**ç‰¹ç‚¹**:
- âœ… æ”¯æŒå¤§å¹…ä»·æ ¼æ³¢åŠ¨
- âœ… ä»·æ ¼å‘ç°åŠŸèƒ½
- âœ… é€‚åˆä»·æ ¼ç‹¬ç«‹çš„ä»£å¸å¯¹

**é€‚ç”¨åœºæ™¯**:
```
âœ… SRT/WSRT   - æ²»ç†ä»£å¸/åŒ…è£…ä»£å¸
âœ… STE/STF    - ä¸åŒé¡¹ç›®ä»£å¸
âœ… ETH/USDT   - ä¸»æµå¸/ç¨³å®šå¸
```

**ä»£ç **:
```solidity
// åˆ›å»ºæ³¢åŠ¨æ± 
router.addLiquidity(
  tokenA,
  tokenB,
  false,  // âœ… stable = false
  ...
)
```

**è¯¦ç»†å¯¹æ¯”**: è¯·æŸ¥çœ‹ [POOL_TYPES.md](./POOL_TYPES.md)

---

## ğŸ¯ å‰ç«¯é›†æˆ

### 1. æ›´æ–°ä»£å¸é…ç½®

ç¼–è¾‘ `frontend/src/constants/tokens.ts`:

```typescript
export const TOKENS: Record<string, Token> = {
  // åŸæœ‰ä»£å¸
  SRT: { address: '0x...', symbol: 'SRT', decimals: 18 },
  WSRT: { address: '0x...', symbol: 'WSRT', decimals: 18 },

  // æ–°å¢æµ‹è¯•ä»£å¸
  STE: { address: '0x...', symbol: 'STE', decimals: 18, name: 'Star Energy' },
  STF: { address: '0x...', symbol: 'STF', decimals: 18, name: 'Star Finance' },
  STCX: { address: '0x...', symbol: 'STCX', decimals: 18, name: 'Star Chain X' },
  SBF: { address: '0x...', symbol: 'SBF', decimals: 18, name: 'Star Base Finance' },
}
```

### 2. æŸ¥çœ‹ Farms é¡µé¢

å‰ç«¯å·²é›†æˆ Farms é¡µé¢ï¼Œè®¿é—®è·¯å¾„:
```
http://localhost:3000/#/farms
```

**åŠŸèƒ½**:
- ğŸ“Š æ˜¾ç¤ºæ‰€æœ‰æµåŠ¨æ€§æ± 
- ğŸ” æœç´¢å’Œè¿‡æ»¤æ± å­ (å…¨éƒ¨/ç¨³å®š/æ³¢åŠ¨)
- ğŸ“ˆ æ˜¾ç¤º TVLã€æŠ•ç¥¨æƒé‡ã€APR
- ğŸ æ˜¾ç¤ºè´¿èµ‚å¥–åŠ±çŠ¶æ€
- ğŸ”— å¿«é€Ÿè·³è½¬åˆ°æ·»åŠ æµåŠ¨æ€§å’ŒæŠ•ç¥¨

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### æµ‹è¯•æµç¨‹

1. **éƒ¨ç½²ä»£å¸**:
   ```bash
   npm run deploy:test-tokens
   ```

2. **æ·»åŠ æµåŠ¨æ€§**:
   ```bash
   npm run deploy:add-liquidity
   ```

3. **åˆ›å»º Gauge** (å¯é€‰):
   ```bash
   npm run create-gauges
   ```

4. **å‰ç«¯æµ‹è¯•**:
   - åœ¨ Swap é¡µé¢æµ‹è¯•ä»£å¸å…‘æ¢
   - åœ¨ Liquidity é¡µé¢æ·»åŠ /ç§»é™¤æµåŠ¨æ€§
   - åœ¨ Farms é¡µé¢æŸ¥çœ‹æ‰€æœ‰æ± å­
   - åœ¨ Vote é¡µé¢ä¸ºæ± å­æŠ•ç¥¨

### ä¿®æ”¹é…ç½®

**ä¿®æ”¹æµ‹è¯•åœ°å€**:
ç¼–è¾‘ `scripts/deploy-test-tokens.ts`:
```typescript
const TEST_ADDRESS = '0xYourTestAddress' // ä¿®æ”¹ä¸ºä½ çš„æµ‹è¯•åœ°å€
```

**ä¿®æ”¹æµåŠ¨æ€§é‡‘é¢**:
ç¼–è¾‘ `scripts/add-test-liquidity.ts`:
```typescript
const LIQUIDITY_PER_POOL = ethers.parseEther('500000000') // ä¿®æ”¹æ¯æ± é‡‘é¢
```

---

## ğŸ“ ç”Ÿæˆçš„æ–‡ä»¶

### `deployed-test-tokens.json`
```json
{
  "network": "bscTestnet",
  "deployer": "0x...",
  "tokens": [
    { "symbol": "STE", "address": "0x..." },
    { "symbol": "STF", "address": "0x..." },
    { "symbol": "STCX", "address": "0x..." },
    { "symbol": "SBF", "address": "0x..." }
  ]
}
```

### `deployed-pools.json`
```json
{
  "network": "bscTestnet",
  "pools": [
    {
      "tokenA": "STE",
      "tokenB": "STF",
      "type": "stable",
      "address": "0x...",
      "liquidity": "500000000"
    },
    ...
  ]
}
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç§é’¥å®‰å…¨**:
   - ç¡®ä¿ `.env` æ–‡ä»¶ä¸è¢«æäº¤åˆ° Git
   - ä½¿ç”¨æµ‹è¯•ç½‘ä¸“ç”¨ç§é’¥
   - ä¸è¦åœ¨ä¸»ç½‘ä½¿ç”¨ç›¸åŒç§é’¥

2. **Gasè´¹ç”¨**:
   - éƒ¨ç½² 4 ä¸ªä»£å¸ + 12 ä¸ªæ± å­éœ€è¦è¾ƒå¤š Gas
   - ç¡®ä¿éƒ¨ç½²åœ°å€æœ‰è¶³å¤Ÿçš„ BNB æµ‹è¯•å¸
   - å¯ä»¥ä» [BSC Testnet Faucet](https://testnet.binance.org/faucet-smart) è·å–

3. **åˆçº¦éªŒè¯**:
   - éƒ¨ç½²ååœ¨ BSCScan Testnet éªŒè¯åˆçº¦
   - æ–¹ä¾¿ç”¨æˆ·æŸ¥çœ‹åˆçº¦æºç 

4. **ä»£å¸åˆ†é…**:
   - 90% å‘é€åˆ°æµ‹è¯•åœ°å€ä¾›æµ‹è¯•ä½¿ç”¨
   - 10% ç”¨äºæµåŠ¨æ€§æ± 
   - æ ¹æ®éœ€è¦è°ƒæ•´åˆ†é…æ¯”ä¾‹

---

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜1: éƒ¨ç½²å¤±è´¥ "insufficient funds"
**è§£å†³**: ç¡®ä¿éƒ¨ç½²åœ°å€æœ‰è¶³å¤Ÿçš„ BNB æµ‹è¯•å¸

### é—®é¢˜2: æ·»åŠ æµåŠ¨æ€§å¤±è´¥ "insufficient balance"
**è§£å†³**: ç¡®ä¿éƒ¨ç½²è€…åœ°å€æœ‰è¶³å¤Ÿçš„ä»£å¸ä½™é¢ (æ¯ä¸ªæ± å­éœ€è¦5äº¿ä»£å¸)

### é—®é¢˜3: æ± å­åˆ›å»ºå¤±è´¥ "pair already exists"
**è§£å†³**: è¯¥æ± å­å·²å­˜åœ¨ï¼Œè·³è¿‡æˆ–ä¿®æ”¹æ± å­å‚æ•°

### é—®é¢˜4: å‰ç«¯ä¸æ˜¾ç¤ºæ–°ä»£å¸
**è§£å†³**:
1. ç¡®ä¿æ›´æ–°äº† `tokens.ts` é…ç½®
2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
3. é‡å¯å‰ç«¯å¼€å‘æœåŠ¡å™¨

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [POOL_TYPES.md](./POOL_TYPES.md) - æ± å­ç±»å‹è¯¦è§£
- [DEPLOYMENT.md](../DEPLOYMENT.md) - ä¸»åˆçº¦éƒ¨ç½²æŒ‡å—
- [DEVELOPMENT.md](../DEVELOPMENT.md) - å¼€å‘æ–‡æ¡£

---

## âœ… æ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰:
- [ ] ç¼–è¯‘åˆçº¦æˆåŠŸ
- [ ] é…ç½®äº†æ­£ç¡®çš„ç½‘ç»œ
- [ ] éƒ¨ç½²åœ°å€æœ‰è¶³å¤Ÿ BNB
- [ ] å·²é˜…è¯»æ± å­ç±»å‹è¯´æ˜

éƒ¨ç½²å:
- [ ] ä»£å¸éƒ¨ç½²æˆåŠŸ
- [ ] æµåŠ¨æ€§æ± åˆ›å»ºæˆåŠŸ
- [ ] ç”Ÿæˆäº†éƒ¨ç½²ä¿¡æ¯æ–‡ä»¶
- [ ] æ›´æ–°äº†å‰ç«¯é…ç½®
- [ ] åœ¨ Farms é¡µé¢éªŒè¯æ˜¾ç¤º

---

## ğŸ‰ å®Œæˆ

æ­å–œï¼ä½ å·²æˆåŠŸéƒ¨ç½²æµ‹è¯•ä»£å¸å’ŒæµåŠ¨æ€§æ± ã€‚

ç°åœ¨å¯ä»¥:
- âœ… åœ¨ Swap é¡µé¢æµ‹è¯•ä»£å¸äº¤æ¢
- âœ… åœ¨ Liquidity é¡µé¢ç®¡ç†æµåŠ¨æ€§
- âœ… åœ¨ Farms é¡µé¢æŸ¥çœ‹æ‰€æœ‰æ± å­
- âœ… åœ¨ Vote é¡µé¢ä¸ºæ± å­æŠ•ç¥¨
- âœ… æµ‹è¯•å®Œæ•´çš„ ve(3,3) DEX åŠŸèƒ½
